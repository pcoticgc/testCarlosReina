<!DOCTYPE html>
<html lang="es">
    <head>
        <!-- Augmented Reality on the Web in 10 lines of html! https://github.com/jeromeetienne/ar.js --> 
        <script src="https://aframe.io/releases/1.0.1/aframe.min.js"></script>
        <!-- aframe-keyboard-controls.js Permite todas las accion utilizando el Teclado --> 
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
        <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
        <meta name="apple-mobile-web-app-capable" content="yes">
    </head>
    <body style='margin : 0px; overflow: hidden;'>
        <a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false">
            <a-assets>
                <!--02 3D model decaiment-->
                <a-asset-item id="sentinelDeca-obj" src="models/sentinelDeca.obj"></a-asset-item>
                <a-asset-item id="sentinelDeca-mtl" src="models/sentinelDeca.mtl"></a-asset-item>
            </a-assets>
            <!--02 3D model decaiment-->
		    <a-marker type="pattern" preset="custom" url="data/pattern-markerDe.patt">
                <a-obj-model src="#sentinelDeca-obj" mtl="#sentinelDeca-mtl" scale=".2 .2 .2" position ="0 0 0" rotation="0 0 0"></a-obj-model>
            </a-marker>
            <a-marker class="liroralCat" type="pattern" preset="custom" url="data/pattern-markerLiroralCat.patt">
                <!-- para ios la etiqueta video no puedo ponerla dentro de assets porque me sale desplazada y no puedo usar la etiqueta entity e de usar a-video--> 
                <video id="mivideo" crossOrigin="anonymous" playsinline webkitplaysinline autoplay controls muted src="video/ecosistemaLitoral.mp4"></video>
                <a-video src="#mivideo" scale="2 1 1" position="0 0 0" rotation="270 0 0" ></a-video>             
            </a-marker>
            <a-marker class="plomaEbre" type="pattern" preset="custom" url="data/pattern-markerPlomaEbre.patt">
                <video id="mivideo1" crossOrigin="anonymous" playsinline webkitplaysinline autoplay controls muted src="video/plomaDeEbre.mp4"></video>
                <a-video src="#mivideo1" scale="2 1 1" position="0 0 0" rotation="270 0 0" ></a-video>          
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
        <script> 
            var m = document.querySelector(".liroralCat")
            m.addEventListener("markerFound", (e)=>{
            document.querySelector('#mivideo').play();
            })
            m.addEventListener("markerLost", (e)=>{
            document.querySelector('#mivideo').pause();
            })

            var m1 = document.querySelector(".plomaEbre")
                    m1.addEventListener("markerFound", (e)=>{
                    document.querySelector('#mivideo1').play();
                    })
                    m1.addEventListener("markerLost", (e)=>{
                    document.querySelector('#mivideo1').pause();
                    })
        </script>          
    </body>
</html>
        <!-- <script> 
            function startStopVideo(classMarker, srcVideo) {
                var m = document.querySelector(classMarker)
                m.addEventListener("markerFound", (e)=>{
                document.querySelector(srcVideo).play();
                })
                m.addEventListener("markerLost", (e)=>{
                document.querySelector(srcVideo).pause();
                })
            }
            startStopVideo("liroralCat", "#mivideo");
            startStopVideo("plomaEbre", "#mivideo1");
        </script>           -->
